(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[839],{1664:(e,a,s)=>{"use strict";s.d(a,{s:()=>t});let t={BARBER:{GET:"/get-employee"},SERVICE:{GET:"/get-service"},BOOKING:{BOOK:"/book",ALL_GET:"/allAppointment",GET_BY_GET:e=>"/my/".concat(e)},ADMIN:{BARBER:{ADD:"/add-employee",DELETE:e=>"/delete-employee/".concat(e)},SERVICE:{DELETE:e=>"/delete-service/".concat(e),ADD:"/add-service"}}}},4836:(e,a,s)=>{Promise.resolve().then(s.bind(s,8373))},6877:(e,a,s)=>{"use strict";s.d(a,{Ay:()=>p,ZS:()=>r,gG:()=>d});var t=s(1664),l=s(1990),n=s(3464);let d=(0,l.zD)("appointment/create",async(e,a)=>{let{rejectWithValue:s}=a;try{return(await n.A.post("http://localhost:5001/api".concat(t.s.BOOKING.BOOK),e)).data}catch(e){var l,d;return s((null===(d=e.response)||void 0===d?void 0:null===(l=d.data)||void 0===l?void 0:l.message)||"Failed to create appointment")}}),o=(0,l.zD)("appointment/getAllAppointments",async(e,a)=>{let{rejectWithValue:s}=a;try{return(await n.A.get("http://localhost:5001/api".concat(t.s.BOOKING.ALL_GET))).data}catch(e){var l,d;return s((null===(d=e.response)||void 0===d?void 0:null===(l=d.data)||void 0===l?void 0:l.message)||"Failed to fetch all appointments")}}),r=(0,l.zD)("appointment/getMyBookings",async(e,a)=>{let{rejectWithValue:s}=a;try{return(await n.A.get("http://localhost:5001/api".concat(t.s.BOOKING.GET_BY_GET(e)))).data}catch(e){var l,d;return s((null===(d=e.response)||void 0===d?void 0:null===(l=d.data)||void 0===l?void 0:l.message)||"Failed to fetch bookings")}}),i=(0,l.Z0)({name:"appointment",initialState:{appointment:null,loading:!1,error:null,success:!1,myBookings:[],allBookings:[]},reducers:{resetAppointment:e=>{e.loading=!1,e.success=!1,e.error=null,e.appointment=null}},extraReducers:e=>{e.addCase(d.pending,e=>{e.loading=!0,e.error=null,e.success=!1}).addCase(d.fulfilled,(e,a)=>{e.loading=!1,e.success=!0,e.appointment=a.payload}).addCase(d.rejected,(e,a)=>{e.loading=!1,e.success=!1,e.error=a.payload||"Something went wrong"}).addCase(r.pending,e=>{e.loading=!0,e.error=null}).addCase(r.fulfilled,(e,a)=>{e.loading=!1,e.myBookings=a.payload}).addCase(r.rejected,(e,a)=>{e.loading=!1,e.error=a.payload||"Failed to fetch bookings"}).addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,a)=>{e.loading=!1,e.myBookings=a.payload}).addCase(o.rejected,(e,a)=>{e.loading=!1,e.error=a.payload||"Failed to fetch all appointments"})}}),{resetAppointment:c}=i.actions,p=i.reducer},8373:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>r});var t=s(5155),l=s(2115),n=s(4540),d=s(6877),o=s(4861);let r=()=>{let e=(0,n.wA)(),{user:a}=(0,o.Jd)(),s=null==a?void 0:a.id,{myBookings:r,loading:i,error:c}=(0,n.d4)(e=>e.appointment);return(0,l.useEffect)(()=>{s&&e((0,d.ZS)(s))},[s,e]),(0,t.jsx)("div",{className:"min-h-screen px-6 py-10 bg-[#121212] text-[#E0E0E0]",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-8 text-[#C87941]",children:"My Bookings"}),i&&(0,t.jsx)("p",{className:"text-yellow-500",children:"Loading your bookings..."}),c&&(0,t.jsxs)("p",{className:"text-red-500",children:["Error: ",c]}),!i&&0===r.length&&(0,t.jsx)("p",{className:"text-gray-400 italic",children:"No bookings found for your account."}),(0,t.jsx)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-6",children:r.map(e=>{var a;return(0,t.jsxs)("div",{className:"bg-[#1E1E1E] p-6 rounded-2xl border border-[#2f2f2f] hover:border-[#C87941] transition-all duration-300 shadow-sm",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-[#DBCBBD] mb-4",children:"Booking Info"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Date:"})," ",e.date]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Time:"})," ",e.timeSlot]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Status:"})," ",(0,t.jsx)("span",{className:"font-semibold ".concat("approved"===e.status?"text-green-400":"declined"===e.status?"text-red-400":"text-yellow-400"),children:e.status})]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Payment:"})," ","paid"===e.paymentStatus?" Paid":"Unpaid"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Price:"})," ",(0,t.jsxs)("span",{className:"font-bold",children:["â‚¹",e.price]})]})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("p",{className:"text-sm text-[#C87941] font-semibold mb-1",children:"Services:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:null===(a=e.serviceId)||void 0===a?void 0:a.map((e,a)=>(0,t.jsx)("span",{className:"bg-[#2B2B2B] text-[#DBCBBD] text-xs px-3 py-1 rounded-full border border-[#3f3f3f]",children:e.serviceName},a))})]})]},e._id)})})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[464,635,861,441,684,358],()=>a(4836)),_N_E=e.O()}]);