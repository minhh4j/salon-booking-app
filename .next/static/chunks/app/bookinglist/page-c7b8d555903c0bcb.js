(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54],{1664:(e,r,t)=>{"use strict";t.d(r,{s:()=>a});let a={BARBER:{GET:"/get-employee"},SERVICE:{GET:"/get-service"},BOOKING:{BOOK:"/book",ALL_GET:"/allAppointment",GET_BY_GET:e=>"/my/".concat(e)},ADMIN:{BARBER:{ADD:"/add-employee",DELETE:e=>"/delete-employee/".concat(e)},SERVICE:{DELETE:e=>"/delete-service/".concat(e),ADD:"/add-service"}}}},2355:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(9946).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},3052:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(9946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},3706:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p});var a=t(5155),s=t(2115),l=t(4540),o=t(5426),i=t(5708),c=t(5695),d=t(4861),n=t(2355);let u=(0,t(9946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var h=t(3052);let p=()=>{let e=(0,l.wA)(),{service:r,loading:t,error:p}=(0,l.d4)(e=>e.service),{barbers:m,loading:v,error:b}=(0,l.d4)(e=>e.barber),{user:g}=(0,d.Jd)(),x=(0,s.useRef)(null),f=(0,s.useRef)(null),[y,j]=(0,s.useState)([]),[N,w]=(0,s.useState)([]),A=(0,c.useRouter)();(0,s.useEffect)(()=>{e((0,o.jg)()),e((0,i.GL)())},[e]);let E=(e,r)=>{let t="service"===r?x.current:f.current;t&&t.scrollBy({left:"left"===e?-300:300,behavior:"smooth"})},B=e=>{j(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])},C=e=>{w(r=>r[0]===e?[]:[e])};return(0,a.jsxs)("div",{className:"text-[#D6D7D6] px-6 py-12 space-y-24 bg-[#1B1B1A] min-h-screen",children:[(0,a.jsxs)("section",{children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h2",{className:"text-4xl font-bold text-[#666b3a] mb-1",children:"Choose Your Services"}),(0,a.jsx)("p",{className:"text-base text-[#a0a09a]",children:"Tailored for your perfect look"})]}),(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("button",{onClick:()=>E("left","service"),className:"absolute z-40 left-0 top-1/2 -translate-y-1/2 bg-[#2B2B2B] hover:bg-[#757442] text-white p-2 rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition duration-300",children:(0,a.jsx)(n.A,{size:20})}),(0,a.jsx)("div",{ref:x,className:"overflow-x-auto no-scrollbar whitespace-nowrap flex gap-5 px-2 py-4 scroll-smooth",children:t?(0,a.jsx)("p",{className:"text-gray-400",children:"Loading..."}):p?(0,a.jsx)("p",{className:"text-red-500",children:"Error loading services"}):r.map((e,r)=>{let t=y.includes(e._id);return(0,a.jsxs)("div",{className:"relative w-[250px] h-[220px] bg-[#2B2B2B]/90 border ".concat(t?"border-blue-500":"border-[#757442]/30"," rounded-2xl flex-shrink-0 p-4 backdrop-blur-md cursor-pointer hover:scale-105 hover:shadow-[0_0_10px_#75744266] transition-all duration-300"),onClick:()=>B(e._id),children:[t&&(0,a.jsx)(u,{className:"absolute top-2 right-2 text-blue-500 bg-[#1B1B1A] rounded-full",size:20}),(0,a.jsx)("img",{src:e.image,alt:e.serviceName,className:"w-full h-[110px] object-cover rounded-md mb-3"}),(0,a.jsx)("h4",{className:"text-xl font-semibold truncate",children:e.serviceName}),(0,a.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:["₹ ",e.serviceCharge]})]},r)})}),(0,a.jsx)("button",{onClick:()=>E("right","service"),className:"absolute z-40 right-0 top-1/2 -translate-y-1/2 bg-[#2B2B2B] hover:bg-[#757442] text-white p-2 rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition duration-300",children:(0,a.jsx)(h.A,{size:20})})]})]}),(0,a.jsxs)("section",{children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-[#636c36] mb-1",children:"Pick Your Barber"}),(0,a.jsx)("p",{className:"text-sm text-[#cecec0]",children:"Craftsmanship that speaks for itself"})]}),(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("button",{onClick:()=>E("left","barber"),className:"absolute z-40 left-0 top-1/2 -translate-y-1/2 bg-[#2B2B2B] hover:bg-[#757442] text-white p-2 rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition duration-300",children:(0,a.jsx)(n.A,{size:18})}),(0,a.jsx)("div",{ref:f,className:"overflow-x-auto no-scrollbar whitespace-nowrap flex gap-4 px-2 py-3 scroll-smooth",children:v?(0,a.jsx)("p",{className:"text-gray-400",children:"Loading barbers..."}):b?(0,a.jsx)("p",{className:"text-red-500",children:"Error loading barbers"}):m.map(e=>{let r=N.includes(e._id);return(0,a.jsxs)("div",{className:"relative w-[180px] flex-shrink-0 p-4 rounded-2xl shadow-md ".concat(r?"border-blue-500":"border-[#757442]/40"," bg-[#2B2B2B]/80 border hover:shadow-[#757442]/40 hover:scale-105 transition-all duration-300 cursor-pointer backdrop-blur"),onClick:()=>C(e._id),children:[r&&(0,a.jsx)(u,{className:"absolute top-2 right-2 text-blue-500 bg-[#1B1B1A] rounded-full",size:18}),(0,a.jsx)("div",{className:"w-full h-32 overflow-hidden rounded-xl mb-3 border border-[#757442]/20",children:(0,a.jsx)("img",{src:e.employeeImage||"/placeholder.png",alt:e.employeeName,className:"object-cover w-full h-full hover:scale-110 transition-transform duration-300"})}),(0,a.jsxs)("div",{className:"text-center space-y-1",children:[(0,a.jsx)("h6",{className:"text-base font-semibold truncate",children:e.employeeName}),(0,a.jsx)("p",{className:"text-xs italic text-[#dadac6]",children:e.specialCut}),(0,a.jsxs)("p",{className:"text-sm font-bold",children:["₹ ",e.employeeFees]}),(0,a.jsx)("p",{className:"text-xs text-gray-400 line-clamp-2 h-10",children:e.description})]})]},e._id)})}),(0,a.jsx)("button",{onClick:()=>E("right","barber"),className:"absolute z-40 right-0 top-1/2 -translate-y-1/2 bg-[#2B2B2B] hover:bg-[#757442] text-white p-2 rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition duration-300",children:(0,a.jsx)(h.A,{size:18})})]})]}),(0,a.jsx)("div",{className:"mt-12 flex justify-center",children:(0,a.jsx)("button",{onClick:()=>{if(y.length&&N.length){let e=r.filter(e=>y.includes(e._id)).reduce((e,r)=>e+r.serviceCharge,0);localStorage.setItem("barberId",N[0]),localStorage.setItem("serviceId",JSON.stringify(y)),localStorage.getItem("serviceId"),localStorage.setItem("price",JSON.stringify(e)),localStorage.setItem("userId",JSON.stringify(null==g?void 0:g.id)),j([]),w([]),alert("Appointment saved successfully!"),A.push("/appointment")}else alert("Please select at least one service and one barber.")},className:"bg-[#757442] hover:bg-[#636c36] text-black text-lg font-semibold py-3 px-8 rounded-full shadow-lg transition duration-300",children:"Book Now"})})]})}},3713:(e,r,t)=>{Promise.resolve().then(t.bind(t,3706))},5426:(e,r,t)=>{"use strict";t.d(r,{Ay:()=>d,h1:()=>c,hs:()=>i,jg:()=>o});var a=t(1990),s=t(3464),l=t(1664);let o=(0,a.zD)("services/fetchAll",async(e,r)=>{try{let e=await s.A.get("http://localhost:5001/api/".concat(l.s.SERVICE.GET));return console.log("Fetched services:",e.data),e.data.services}catch(e){var t,a;return console.log("Service fetch error:",e),r.rejectWithValue((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to fetch services")}}),i=(0,a.zD)("services/delete",async(e,r)=>{try{return await s.A.delete("http://localhost:5001/api/".concat(l.s.ADMIN.SERVICE.DELETE(e))),e}catch(e){var t,a;return r.rejectWithValue((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to delete service")}}),c=(0,a.zD)("services/add",async(e,r)=>{try{return(await s.A.post("http://localhost:5001/api/".concat(l.s.ADMIN.SERVICE.ADD),e)).data.service}catch(e){var t,a;return r.rejectWithValue((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to add service")}}),d=(0,a.Z0)({name:"service",initialState:{service:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,r)=>{e.loading=!1,e.service=r.payload}).addCase(o.rejected,(e,r)=>{e.loading=!1,e.error=r.payload}).addCase(i.fulfilled,(e,r)=>{e.service=e.service.filter(e=>e._id!==r.payload)}).addCase(i.rejected,(e,r)=>{e.error=r.payload}).addCase(c.fulfilled,(e,r)=>{e.service.push(r.payload)}).addCase(c.rejected,(e,r)=>{e.error=r.payload})}}).reducer},5695:(e,r,t)=>{"use strict";var a=t(8999);t.o(a,"useParams")&&t.d(r,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSelectedLayoutSegments")&&t.d(r,{useSelectedLayoutSegments:function(){return a.useSelectedLayoutSegments}})},5708:(e,r,t)=>{"use strict";t.d(r,{Ay:()=>c,GL:()=>o,i:()=>i});var a=t(1990),s=t(3464),l=t(1664);let o=(0,a.zD)("barbers/fetchAll",async(e,r)=>{try{return(await s.A.get("http://localhost:5001/api".concat(l.s.BARBER.GET))).data.employees}catch(e){var t,a;return console.log(e,"hh"),r.rejectWithValue((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to fetch barbers")}}),i=(0,a.zD)("barbers/deleteBarber",async(e,r)=>{console.log(e,"fsdfsfdsf");try{return await s.A.delete("http://localhost:5001/api/".concat(l.s.ADMIN.BARBER.DELETE(e))),console.log(e,"barber id"),e}catch(e){var t,a;return console.log(e," sdfghjkl "),r.rejectWithValue((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to delete barber")}}),c=(0,a.Z0)({name:"barbers",initialState:{barbers:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,r)=>{e.loading=!1,e.barbers=r.payload}).addCase(o.rejected,(e,r)=>{e.loading=!1,e.error=r.payload}).addCase(i.fulfilled,(e,r)=>{e.barbers=e.barbers.filter(e=>e._id!==r.payload)}).addCase(i.rejected,(e,r)=>{e.error=r.payload})}}).reducer},9946:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var a=t(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),o=e=>{let r=l(e);return r.charAt(0).toUpperCase()+r.slice(1)},i=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:d="",children:n,iconNode:u,...h}=e;return(0,a.createElement)("svg",{ref:r,...c,width:s,height:s,stroke:t,strokeWidth:o?24*Number(l)/Number(s):l,className:i("lucide",d),...h},[...u.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(n)?n:[n]])}),n=(e,r)=>{let t=(0,a.forwardRef)((t,l)=>{let{className:c,...n}=t;return(0,a.createElement)(d,{ref:l,iconNode:r,className:i("lucide-".concat(s(o(e))),"lucide-".concat(e),c),...n})});return t.displayName=o(e),t}}},e=>{var r=r=>e(e.s=r);e.O(0,[464,635,861,441,684,358],()=>r(3713)),_N_E=e.O()}]);